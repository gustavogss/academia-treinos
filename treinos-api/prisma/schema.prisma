generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id           String        @id @default(uuid())
  workoutPlans WorkoutPlan[]
}

model WorkoutPlan {
  id          String       @id @default(uuid())
  name        String
  userId      String
  user        User         @relation(fields: [userId], references: [id])
  WorkoutDays WorkoutDay[]
  isActive    Boolean      @default(true)
  createdAt   DateTime     @default(now())
  updatedAt   DateTime     @updatedAt
}

enum Weekday {
  MONDAY
  TUESDAY
  WEDNESDAY
  THURSDAY
  FRIDAY
  SATURDAY
  SUNDAY
}

model WorkoutDay {
  id          String            @id @default(uuid())
  name        String
  workPlanId  String
  workoutPlan WorkoutPlan       @relation(fields: [workPlanId], references: [id])
  isRest      Boolean           @default(false)
  weekDay     Weekday
  exercises   WorkoutExercise[]
  createdAt   DateTime          @default(now())
  updateAt    DateTime          @updatedAt
}

model WorkoutExercise {
  id                String     @id @default(uuid())
  name              String
  order             Int
  workoutDayId      String
  workoutDay        WorkoutDay @relation(fields: [workoutDayId], references: [id])
  sets              Int
  reps              Int
  restTimeInSeconds Int
  createdAt         DateTime   @default(now())
  updatedAt         DateTime   @updatedAt
}
